<!DOCTYPE html>
<html lang="en">
	<head>
        <meta charset="utf-8" />
        <meta name="description" content="PHP-SRePS" />
        <meta name="keywords" content="SWE300010 - Development Project 2 - Design, Planning and Management" />
        <meta name="author" content="Tim Keesman" />
        <title>Edit User Details</title>

        <script src="/js/jquery-3.4.1.min.js"></script>
        <script src="/js/loadhtml.js"></script>
        <link href="/html/styles/stylesheet.css" rel="stylesheet" />

				<script>
					function displayLoginDetails()
					{
						if ($("#login_details").is(":hidden"))
						{
							$("#login_details").show();
						}
						else
						{
							$("#login_details").hide();
						}
					}

					function checkPassword()
					{
						var password = $("#Password").val();
						var cnfm_password = $("#CnfmPassword").val();

						if (cnfm_password.length > 0 && password.length)
						{
							if (cnfm_password != password)
							{
								$("#password_validation").html("Ensure that the Password and Confirm Password Match");
								return false;
							}
							else
							{
								$("#password_validation").html("");
								return true;
							}
						}
					}

					function checkform()
					{
						if (checkPassword())
						{
							return true;
						}
						else
						{
							return false;
						}
					}

				</script>
	</head>

	<body>
    <div class="navbar" id="navbar">
    </div>

    <h1>Edit User Details</h1>

		<form action="/UserDetailsEdited" method="POST" onsubmit="return checkPassword()">
        <fieldset>
          <legend>User Information</legend>
					<input hidden id='userID' name='userID' value='<%= userID %>'/>

          <p><label for="FirstName">First Name</label>
              <input type="text" name="FirstName" id="FirstName" placeholder="Enter First Name" required value= '<%= FirstName %>'/>
          </p>

          <p><label for="LastName">Last Name</label>
              <input type="text" name="LastName" id="LastName" placeholder="Enter Last Name" required value= '<%= LastName %>'/>
          </p>

          <p><label for="Email">Email</label>
              <input type="text" name="Email" id="Email" placeholder="Enter Email" required value= '<%= Email %>'/>
          </p>

					<button type="button" name="button" onclick="displayLoginDetails()" class="formBtn">Show/Hide Login Details</button>

					<div id ="login_details" hidden>
						<p><label for="UserName">User Name</label>
								<input type="text" name="UserName" id="UserName" placeholder="Enter User Name" required value= '<%= UserName %>'/>
						</p>

						<p><label for="Password">Password</label>
								<input type="password" name="Password" id="Password" placeholder="Enter Password" onkeyup="checkPassword()" value= ''/>
						</p>

						<p><label for="CnfmPassword">Confirm Password</label>
								<input type="password" name="CnfmPassword" id="CnfmPassword" placeholder="Enter Confirm Password" onkeyup="checkPassword()" value= ''/>
						</p>

						<p id="password_validation"></p>
					</div>
        </fieldset>

        <input type="submit" class="formBtn" />
        <input type="reset" value="Reset Form" />
      </form>

      <br />
      <div id="footer"></div>
	</body>
</html>
